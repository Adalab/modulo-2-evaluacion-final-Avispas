const v=document.querySelector(".js-btnSearch"),r=document.querySelector(".js-browsers-list"),d=document.querySelector(".js-favs-list"),p="../public/images/animemix.webp",k=document.querySelector(".js-reset");let m=[],s=[],n=[],i=[],a="";function S(){r.innerHTML="",d.innerHTML="",document.querySelectorAll(".clicked").forEach(e=>{e.classList.remove("backgroundYellow")}),n=[],localStorage.removeItem("clicked")}k.addEventListener("click",S);function h(){if(i=JSON.parse(localStorage.getItem("clicked")),console.log(i),i!==null&&i.length>0){console.log(i);for(let t of i)console.log(t),d.innerHTML+=u(t.title,t.images,t.id)}}h();function y(){a=document.getElementById("js-inputText").value.toLowerCase(),console.log(a),_(a)}const L=()=>{const t=document.querySelectorAll(".card");for(const e of t)e.addEventListener("click",b)},g=()=>{const t=document.querySelectorAll(".js-fav");console.log(t);for(const e of t)e.addEventListener("click",I)};g();v.addEventListener("click",y);function _(t){fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{s=[],console.log(e.data),m=e.data;for(const l of m)console.log(l.images.jpg.image_url),l.images.jpg.image_url!=="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?s.push({title:l.title,images:l.images.jpg.image_url,id:l.mal_id}):s.push({title:l.title,images:p,id:l.mal_id});F(s),L(),console.log(s)})}function F(t){r.innerHTML="";for(const e of t){let l=T(e.title,e.images,e.id);r.innerHTML+=l}}function T(t,e,l){let o="";return o+=`<li class="card  clicked js-color" id="${l}">`,o+=`<img class="card__img" src="${e}" alt="${t}"></img>`,o+=`<h3 class="card__name">${t}</h3>`,o+="</li>",o}function u(t,e,l){let o="";return o+=`<li class="clicked js-fav" id="${l}">`,o+=`<img class="card__img" src="${e}" alt="${t}"></img>`,o+=`<h3 class="card__name">${t}</h3>`,o+="</li>",o}function b(t){const e=t.currentTarget;if(console.log(e),e.classList.contains("clicked")){let l={title:e.querySelector(".card__name").textContent,images:e.querySelector(".card__img").src,id:e.id};if(n===!0){const o=n.findIndex(c=>c.id===l.id);console.log(o)}console.log(l),console.log(n),e.classList.contains("backgroundYellow")?(e.classList.remove("backgroundYellow"),document.getElementById(l.id).remove(),n.splice(favIndex,1),console.log(n)):(e.classList.add("backgroundYellow"),n.push(l),console.log(n),d.innerHTML+=u(l.title,l.images,l.id),g())}f()}function f(){localStorage.setItem("clicked",JSON.stringify(n))}function I(t){const e=t.currentTarget,l=document.querySelectorAll(".backgroundYellow");for(let c of l)e.id===c.id&&c.classList.remove("backgroundYellow");const o=n.findIndex(c=>c.id===l.id);e.remove(),n.splice(o,1),console.log(n),f()}
//# sourceMappingURL=main.js.map
