const v=document.querySelector(".js-btnSearch"),r=document.querySelector(".js-browsers-list"),d=document.querySelector(".js-favs-list"),p="../public/images/animemix.webp";let m=[],c=[],n=[],s=[],a="";function h(){if(s=JSON.parse(localStorage.getItem("clicked")),console.log(s),s.length>0){console.log(s);for(let t of s)console.log(t),d.innerHTML+=u(t.title,t.images,t.id)}}h();function S(){a=document.getElementById("js-inputText").value.toLowerCase(),console.log(a),_(a)}const y=()=>{const t=document.querySelectorAll(".card");for(const e of t)e.addEventListener("click",L)},g=()=>{const t=document.querySelectorAll(".js-fav");console.log(t);for(const e of t)e.addEventListener("click",x)};g();v.addEventListener("click",S);function _(t){fetch(`https://api.jikan.moe/v4/anime?q=${t}`).then(e=>e.json()).then(e=>{c=[],console.log(e.data),m=e.data;for(const o of m)console.log(o.images.jpg.image_url),o.images.jpg.image_url!=="https://cdn.myanimelist.net/img/sp/icon/apple-touch-icon-256.png"?c.push({title:o.title,images:o.images.jpg.image_url,id:o.mal_id}):c.push({title:o.title,images:p,id:o.mal_id});k(c),y(),console.log(c)})}function k(t){r.innerHTML="";for(const e of t){let o=F(e.title,e.images,e.id);r.innerHTML+=o}}function F(t,e,o){let l="";return l+=`<li class="card  clicked js-color" id="${o}">`,l+=`<img class="card__img" src="${e}" alt="${t}"></img>`,l+=`<h3 class="card__name">${t}</h3>`,l+="</li>",l}function u(t,e,o){let l="";return l+=`<li class="clicked js-fav" id="${o}">`,l+=`<img class="card__img" src="${e}" alt="${t}"></img>`,l+=`<h3 class="card__name">${t}</h3>`,l+="</li>",l}function L(t){const e=t.currentTarget;if(console.log(e),e.classList.contains("clicked")){let o={title:e.querySelector(".card__name").textContent,images:e.querySelector(".card__img").src,id:e.id};if(n===!0){const l=n.findIndex(i=>i.id===o.id);console.log(l)}console.log(o),console.log(n),e.classList.contains("backgroundYellow")?(e.classList.remove("backgroundYellow"),document.getElementById(o.id).remove(),n.splice(favIndex,1),console.log(n)):(e.classList.add("backgroundYellow"),n.push(o),console.log(n),d.innerHTML+=u(o.title,o.images,o.id),g())}f()}function f(){localStorage.setItem("clicked",JSON.stringify(n))}function x(t){const e=t.currentTarget,o=document.querySelectorAll(".backgroundYellow");for(let i of o)e.id===i.id&&i.classList.remove("backgroundYellow");const l=n.findIndex(i=>i.id===o.id);e.remove(),n.splice(l,1),console.log(n),f()}
//# sourceMappingURL=main.js.map
